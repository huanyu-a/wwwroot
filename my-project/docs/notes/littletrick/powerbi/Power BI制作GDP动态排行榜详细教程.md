---
title: Power BI制作GDP动态排行榜详细教程
createTime: 2025/07/23 16:53:23
permalink: /littletrick/djdp7dvz/
---
之前发布了一篇Power BI的简明教程，在文中发布了一个《1960-2018年全球GDP前十排行榜》的视频，还没看过的小伙伴可以看下效果。  


有不少小伙伴留言想知道怎么制作的，今天就教大家如何制作这样一个炫酷的动态排行榜。

这里我们介绍两种方法，每种方法都有优缺点，但是效果都差不多。

  


数据准备

要制作这样一份动态排行榜，我们需要知道各个国家2016年到2018年间的GDP才行。

我们可以先看下原始数据是什么样的。

![](https://cdn.nlark.com/yuque/0/2023/png/683747/1680513925072-9b477232-f071-4424-a797-47ba4715ee01.png)

前两列是国家名称和国家代码，后面就是每一年的GDP值了。

  


整理数据

有了这份数据，我们打开Power BI，选择从Excel导入数据，如下图：

![](https://cdn.nlark.com/yuque/0/2023/png/683747/1680513925033-c8e7f1ae-2b71-448f-b517-81eddc2163f4.png)

  


找到这份数据文件，然后在弹出的对话框中选择Sheet1，然后点击【转换数据】按钮

![](https://cdn.nlark.com/yuque/0/2023/png/683747/1680513925057-8f989c5b-92df-4b25-a203-924f5b8c1ebd.png)

  


这样我们会进入到一个数据处理的界面上。我们在主页的菜单上选择【将行作为标题】功能，如下图：

![](https://cdn.nlark.com/yuque/0/2023/png/683747/1680513925064-f40c65da-1791-4b51-81ab-902b74d3eea1.png)

  


这样行就会自动转换成标题行了。  


![](https://cdn.nlark.com/yuque/0/2023/png/683747/1680513925063-31d3239d-a149-42d8-af76-1c28a53bf11f.png)

  


删除多余行

国家代码其实我们用不到，如果你不想要它的话，可以选中国家代码这一列，然后选择主页上的【管理】——【删除】即可，当然你也可以右键国家代码列，在弹出的菜单中选择【删除】选项。

![](https://cdn.nlark.com/yuque/0/2023/png/683747/1680513925800-0f33dc9a-13b7-4227-a44e-960e3c46a62e.png)

  


逆透视表

接下来是比较关键的一步了，我们需要逆透视改表的所有年份，具体操作如下，选择国家列，然后点击菜单栏的【转换】——【逆透视列】——【逆透视其他列】，意思就是逆透视除了国家以外的所有年份的列。当然如果你不嫌麻烦也可以选中所有年份的列，然后点击【逆透视列】。

![](https://cdn.nlark.com/yuque/0/2023/png/683747/1680513926031-b8091da0-bf1d-48ae-be3c-c5f9b65fe16a.png)

  


我们得到如下结果：

![](https://cdn.nlark.com/yuque/0/2023/png/683747/1680513926627-28592470-fd8e-4d03-94d2-c1d0a408a1bb.png)

  


额外调整

双击属性和值这两列，将它们重命名为年份和GDP。然后将GDP这一列除以100000000（一亿），然后就它转换成整数。调整完之后的数据如下图：

![](https://cdn.nlark.com/yuque/0/2023/png/683747/1680513926858-e2bab3c2-c346-4be3-815a-2bb2bfacaa0e.png)

  


这就是我们想要的数据，点击主页的【关闭并应用】即可完成数据整理。然后我们回到主窗口可以看到整理后的数据列。

![](https://cdn.nlark.com/yuque/0/2023/png/683747/1680513927053-22b1173f-d166-442f-ad11-ba24e94287e6.png)

  


制作动态排行榜

点击中间的【可视化】菜单下的空间，点击控件【簇状条形图】，然后将字段拖放到相应的位置，具体如下图：

![](https://cdn.nlark.com/yuque/0/2023/png/683747/1680513927300-785b0de7-0719-4974-b983-613e9f667a80.png)

这样一个大致的轮廓就出了，但是我们发现得到的图是所有年份的汇总数据，而我们想要的是每年动态变化的数据。

  


这该怎么办呢？

  


添加轮播控件

这里我们就要使用到一个新的控件：轮播控件（Play Axis），在可视化窗口那里可以添加，如下图：

![](https://cdn.nlark.com/yuque/0/2023/png/683747/1680513927314-5e293bb1-cf06-417f-a55a-6943a3aa7532.png)

  


在弹出的窗口中我们搜索Play Axis即可找到，然后点击添加即可，如下图：

![](https://cdn.nlark.com/yuque/0/2023/png/683747/1680513927763-5b40e979-ea87-4351-b449-b94a73023921.png)

Power BI有非常丰富的控件资源，很多非常炫酷的功能其实都是借助控件来实现的，即使你不会DAX这门脚本语言也可以做出非常精美的可视化效果。

  


添加完轮播控件后我们加载到画布上，然后将年份拖放到相应位置，如下图：

![](https://cdn.nlark.com/yuque/0/2023/png/683747/1680513927977-fba3ef00-3992-48d7-9853-ba89316c6df2.png)

  


年份和排行榜都做好了了，接着要解决它们的联动问题，我们发现点击播放会是下面这个样子：

![](https://cdn.nlark.com/yuque/0/2023/png/683747/1680513928073-db726123-d64e-4f42-86db-18cff3ef57e9.png)

浅色部分是所有GDP的总和，深色部分才是当你的GDP，这与我们想象的不一样啊。那要怎么解决这个问题呢？

  


编辑交互性

选中轮播控件（Play Axis），点击菜单栏【格式】——【编辑交互】，会发现可视化窗口的右上角出现了三个小图标，点击左边的【筛选器】筛选器即可，如下图：

![](https://cdn.nlark.com/yuque/0/2023/png/683747/1680513928142-64642fd7-86af-4084-9b6e-e629aff4848d.png)

  


这样你再重新点击轮播控件的开始按钮，左表的条形图就会动态变化了。

  


添加年份

小伙伴们有没有注意到排行榜的右下角会动态显示年份？这里我们添加一个【卡片图】控件到画布上，如下图：

![](https://cdn.nlark.com/yuque/0/2023/png/683747/1680513928426-20701e42-b3b4-4098-ba77-cfa4078c2c5b.png)

这样在轮播控件变化时，卡片图上的年份也会跟着变化。

  


格式美化

为了将这个图做的好看一点，我们可以对条形图进行格式美化，在可视化控件下面有个调整控件格式的按钮，里面可以调整控件的各种属性，如下图：

![](https://cdn.nlark.com/yuque/0/2023/png/683747/1680513928862-49afe78f-2e0e-4494-9acf-9eeb224f0aa5.png)

这里小伙伴们可以自由发挥，下面是我美化后的效果图：

![](https://cdn.nlark.com/yuque/0/2023/gif/683747/1680513929176-4e1af462-66d9-4f07-85af-2752025c9d20.gif)

这种方法的优点是可以自定义各种数据项，包括柱形图的颜色，标签位置，字体颜色等，可配置性非常强。

缺点也比较明显，制作比较麻烦，效果不那么流畅。

  


上面的方法可能会觉得比较复杂，接下来我们再介绍一个视频中的方法，这个是真·超级简单！

  


获取控件

我们同样需要将原始数据整理成上面的格式：国家，年份，GDP。不同的是我们只需要使用一个控件就可以实现上面的功能，那就是控件：动画条形图(Animated Bar Chart Race)

  


还是在控件市场里面搜索英文名称添加到画布上，如下图：

![](https://cdn.nlark.com/yuque/0/2023/png/683747/1680513929081-f0cbfaeb-6453-4d30-8874-9c7c00beaebc.png)

然后将相关数据列放到对应的位置，如下图：

![](https://cdn.nlark.com/yuque/0/2023/png/683747/1680513929120-bf2f968f-6b0d-4f8f-b09d-19b58585e869.png)

拖放好后，效果就是上一个图左侧的效果了

  


调整控件参数

我们调整一下这个控件的几个参数即可开始运行了。具体如下：

![](https://cdn.nlark.com/yuque/0/2023/png/683747/1680513929357-3aeb29c1-c704-4266-a230-047f9fcff989.png)

这个插件的参数设置太简单

topN：条形图中的条目数量  
duration：动画延迟时间，值越大动画播放越慢  
autoPlay：设置是否自动播放  
fontFamily：设置条目的字体  
fontSize：设置条目的字号  
hideGrid：设置是否因此图例  
hideNumber：设置是否因此数据值  
hidePeriod：设置是否显示日期  
periodSize：设置日期的字号

  


然后再回到画布，你就会看到开始视频里的效果了

![](https://cdn.nlark.com/yuque/0/2023/gif/683747/1680513929700-9946b45b-ac32-4ee6-a5c0-820049486490.gif)

这个方法的优缺点和种方法正好相反  


优点是制作简单，效果炫酷

缺点是数据条目太短而无法显示，名称无法显示在条目外侧，字体颜色无法修改，界面只能展示多20条信息。

两种方法都各有千秋，小伙伴们都可以动手尝试一下。

